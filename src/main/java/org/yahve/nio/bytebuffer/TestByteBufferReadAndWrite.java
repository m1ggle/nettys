package org.yahve.nio.bytebuffer;

import lombok.extern.slf4j.Slf4j;
import org.yahve.nio.util.ByteBufferUtil;

import java.nio.ByteBuffer;

@Slf4j
public class TestByteBufferReadAndWrite {
    public static void main(String[] args) {
        ByteBuffer buffer = ByteBuffer.allocate(10);
        // 写入
        buffer.put((byte) 0x61);
        ByteBufferUtil.debugAll(buffer);
//        +--------+-------------------- all ------------------------+----------------+
//        position: [1], limit: [10]
//        +-------------------------------------------------+
//                |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
//        +--------+-------------------------------------------------+----------------+
//        |00000000| 61 00 00 00 00 00 00 00 00 00                   |a.........      |
//        +--------+-------------------------------------------------+----------------+
        buffer.put(new byte[]{0x62,0x63,0x64,0x65});
        ByteBufferUtil.debugAll(buffer);
//        +--------+-------------------- all ------------------------+----------------+
//        position: [5], limit: [10]
//        +-------------------------------------------------+
//                |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
//        +--------+-------------------------------------------------+----------------+
//        |00000000| 61 62 63 64 65 00 00 00 00 00                   |abcde.....      |
//        +--------+-------------------------------------------------+----------------+
        log.debug("不切换模式读取,{}",buffer.get());
        buffer.flip();
        log.debug("切换模式后读取,{}",buffer.get());
        ByteBufferUtil.debugAll(buffer);
//        +--------+-------------------- all ------------------------+----------------+
//         position: [1], limit: [6]
//        +-------------------------------------------------+
//                |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
//        +--------+-------------------------------------------------+----------------+
//        |00000000| 61 62 63 64 65 00 00 00 00 00                   |abcde.....      |
//        +--------+-------------------------------------------------+----------------+
    }
}
